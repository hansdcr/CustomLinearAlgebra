# Git åŒç©ºé—´å·¥ä½œæµç¨‹

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•ä½¿ç”¨Gitåˆ†æ”¯å®ç°AIè¾…åŠ©å­¦ä¹ ä¸ä¸ªäººç»ƒä¹ çš„åŒç©ºé—´éš”ç¦»ã€‚

---

## ğŸ¯ ç›®æ ‡

- **AIå·¥ä½œç©ºé—´**: Claudeåœ¨ `ai-dev` åˆ†æ”¯ç”Ÿæˆå’Œæ”¹è¿›ä»£ç 
- **å­¦ä¹ ç©ºé—´**: æ‚¨åœ¨ `learning` åˆ†æ”¯è¿›è¡Œç»ƒä¹ å’Œå®éªŒ
- **åŒæ­¥æœºåˆ¶**: é€šè¿‡Gitæ“ä½œä¿æŒä¸¤ä¸ªç©ºé—´çš„ä»£ç ä¸€è‡´

---

## ğŸ“Š åˆ†æ”¯ç»“æ„

```
main (ä¸»åˆ†æ”¯ - ç¨³å®šç‰ˆæœ¬)
  â”œâ”€â”€ ai-dev (AIå¼€å‘åˆ†æ”¯ - Claudeå·¥ä½œåŒº)
  â””â”€â”€ learning (å­¦ä¹ åˆ†æ”¯ - æ‚¨çš„ç»ƒä¹ åŒº)
```

### åˆ†æ”¯è¯´æ˜

| åˆ†æ”¯ | ç”¨é€” | è°åœ¨ä½¿ç”¨ | æ›´æ–°é¢‘ç‡ |
|------|------|---------|---------|
| `main` | å®Œæˆçš„è¿­ä»£,ç¨³å®šä»£ç  | åˆå¹¶æ“ä½œ | æ¯ä¸ªè¿­ä»£å®Œæˆå |
| `ai-dev` | AIç”Ÿæˆä»£ç ,æ–°åŠŸèƒ½å¼€å‘ | Claude | æŒç»­æ›´æ–° |
| `learning` | ä¸ªäººç»ƒä¹ ,å®éªŒä»£ç  | æ‚¨ | éšæ—¶ |

---

## ğŸš€ åˆå§‹è®¾ç½® (åªéœ€ä¸€æ¬¡)

### æ­¥éª¤1: æäº¤å½“å‰å·¥ä½œåˆ°mainåˆ†æ”¯

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
git add .
git commit -m "å®Œæˆè¿­ä»£1: 2Då‘é‡ç±»ä¸å¯è§†åŒ–"
git push origin main
```

### æ­¥éª¤2: åˆ›å»ºAIå¼€å‘åˆ†æ”¯

```bash
# ä»mainåˆ›å»ºai-devåˆ†æ”¯
git checkout -b ai-dev
git push -u origin ai-dev
```

### æ­¥éª¤3: åˆ›å»ºå­¦ä¹ åˆ†æ”¯

```bash
# åˆ‡å›main
git checkout main

# ä»mainåˆ›å»ºlearningåˆ†æ”¯
git checkout -b learning
git push -u origin learning
```

### æ­¥éª¤4: éªŒè¯åˆ†æ”¯è®¾ç½®

```bash
git branch -a
# åº”è¯¥çœ‹åˆ°:
#   main
#   ai-dev
#   learning
#   remotes/origin/main
#   remotes/origin/ai-dev
#   remotes/origin/learning
```

---

## ğŸ’¼ æ—¥å¸¸å·¥ä½œæµç¨‹

### åœºæ™¯1: Claudeç”Ÿæˆæ–°ä»£ç  (åœ¨ ai-dev åˆ†æ”¯)

Claudeçš„å·¥ä½œæµç¨‹:

```bash
# 1. åˆ‡æ¢åˆ°ai-devåˆ†æ”¯
git checkout ai-dev

# 2. ç¡®ä¿æ˜¯æœ€æ–°ä»£ç 
git pull origin ai-dev

# 3. Claudeç”Ÿæˆä»£ç ...
# (ç¼–å†™æ–°çš„æ–¹æ³•ã€æµ‹è¯•ã€å¯è§†åŒ–ç­‰)

# 4. æäº¤æ›´æ”¹
git add .
git commit -m "è¿­ä»£2: å®ç°å‘é‡åŠ æ³•æ–¹æ³• __add__"
git push origin ai-dev
```

**æ‚¨ä¼šæ”¶åˆ°é€šçŸ¥**: "æˆ‘å·²ç»åœ¨ `ai-dev` åˆ†æ”¯æäº¤äº†æ–°ä»£ç ,æ‚¨å¯ä»¥åˆå¹¶åˆ°æ‚¨çš„å­¦ä¹ åˆ†æ”¯"

---

### åœºæ™¯2: æ‚¨åœ¨å­¦ä¹ åˆ†æ”¯ç»ƒä¹ 

æ‚¨çš„å·¥ä½œæµç¨‹:

```bash
# 1. åˆ‡æ¢åˆ°æ‚¨çš„å­¦ä¹ åˆ†æ”¯
git checkout learning

# 2. è‡ªç”±ç»ƒä¹ å’Œå®éªŒ
# - ä¿®æ”¹ä»£ç 
# - è¿è¡Œæµ‹è¯•
# - å°è¯•æ–°æƒ³æ³•
# - ä¸ç”¨æ‹…å¿ƒç ´åä»»ä½•ä¸œè¥¿!

# 3. (å¯é€‰) æäº¤æ‚¨çš„ç»ƒä¹ æˆæœ
git add .
git commit -m "ç»ƒä¹ : å°è¯•å®ç°å‘é‡åŠ æ³•çš„ä¸åŒå†™æ³•"
```

**ä¼˜åŠ¿**: æ‚¨çš„å®éªŒä¸ä¼šå½±å“AIçš„å·¥ä½œç©ºé—´

---

### åœºæ™¯3: åŒæ­¥AIçš„æ–°ä»£ç åˆ°æ‚¨çš„å­¦ä¹ åˆ†æ”¯ â­

**é€‰é¡¹A: åˆå¹¶æ¨¡å¼ (ä¿ç•™æ‚¨çš„æ›´æ”¹)**

```bash
# 1. åˆ‡æ¢åˆ°learningåˆ†æ”¯
git checkout learning

# 2. åˆå¹¶ai-devçš„æ–°ä»£ç 
git merge ai-dev

# 3. å¦‚æœæœ‰å†²çª,è§£å†³å†²çª
# Gitä¼šæç¤ºå“ªäº›æ–‡ä»¶æœ‰å†²çª
# ç¼–è¾‘å†²çªæ–‡ä»¶,é€‰æ‹©ä¿ç•™å“ªäº›æ›´æ”¹

# 4. æ¨é€åˆå¹¶åçš„ä»£ç 
git push origin learning
```

**ç‰¹ç‚¹**:
- âœ… ä¿ç•™æ‚¨çš„æ‰€æœ‰æ›´æ”¹
- âœ… åŒæ—¶è·å¾—AIçš„æ–°ä»£ç 
- âš ï¸ å¯èƒ½éœ€è¦è§£å†³å†²çª

---

**é€‰é¡¹B: é‡ç½®æ¨¡å¼ (å®Œå…¨åŒæ­¥AIçš„ä»£ç )**

```bash
# 1. å¦‚æœæ‚¨æƒ³ä¿ç•™å½“å‰çš„ç»ƒä¹ ,å…ˆå¤‡ä»½
git checkout learning
git branch learning-backup-$(date +%Y%m%d)

# 2. å®Œå…¨é‡ç½®ä¸ºai-devçš„ä»£ç 
git reset --hard origin/ai-dev

# 3. æ¨é€(å¼ºåˆ¶æ›´æ–°)
git push -f origin learning
```

**ç‰¹ç‚¹**:
- âœ… å®Œå…¨ä¸AIä»£ç ä¸€è‡´
- âŒ ä¸¢å¤±æ‚¨çš„æ‰€æœ‰æ›´æ”¹(ä½†å·²å¤‡ä»½)
- é€‚åˆ: å¼€å§‹æ–°çš„è¿­ä»£æ—¶

---

**é€‰é¡¹C: Cherry-pickæ¨¡å¼ (é€‰æ‹©æ€§åŒæ­¥)**

```bash
# åªåŒæ­¥ç‰¹å®šçš„æäº¤

# 1. æŸ¥çœ‹ai-devçš„æäº¤å†å²
git log ai-dev --oneline

# 2. é€‰æ‹©æƒ³è¦çš„æäº¤(å‡è®¾commit hashæ˜¯ abc123)
git checkout learning
git cherry-pick abc123

# 3. æ¨é€
git push origin learning
```

**ç‰¹ç‚¹**:
- âœ… ç²¾ç¡®æ§åˆ¶è¦åŒæ­¥çš„å†…å®¹
- âœ… ä¿ç•™æ‚¨çš„æ›´æ”¹
- é€‚åˆ: åªæƒ³è¦æŸä¸ªç‰¹å®šåŠŸèƒ½æ—¶

---

### åœºæ™¯4: è¿­ä»£å®Œæˆ,åˆå¹¶åˆ°main

å½“ä¸€ä¸ªè¿­ä»£å®Œå…¨å®Œæˆå¹¶éªŒè¯å:

```bash
# 1. åˆ‡æ¢åˆ°mainåˆ†æ”¯
git checkout main

# 2. åˆå¹¶ai-devçš„ä»£ç 
git merge ai-dev

# 3. æ‰“æ ‡ç­¾æ ‡è®°è¿­ä»£
git tag -a iter01-complete -m "è¿­ä»£1å®Œæˆ: 2Då‘é‡ç±»"

# 4. æ¨é€mainå’Œæ ‡ç­¾
git push origin main --tags

# 5. æ›´æ–°learningåˆ†æ”¯(å¯é€‰)
git checkout learning
git merge main
git push origin learning
```

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### æŸ¥çœ‹å½“å‰åˆ†æ”¯
```bash
git branch
# * æ ‡è®°çš„æ˜¯å½“å‰åˆ†æ”¯
```

### åˆ‡æ¢åˆ†æ”¯
```bash
git checkout ai-dev      # åˆ‡æ¢åˆ°AIå·¥ä½œåˆ†æ”¯
git checkout learning    # åˆ‡æ¢åˆ°å­¦ä¹ åˆ†æ”¯
git checkout main        # åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯
```

### æŸ¥çœ‹åˆ†æ”¯å·®å¼‚
```bash
# æŸ¥çœ‹ai-devæ¯”learningå¤šäº†ä»€ä¹ˆ
git diff learning..ai-dev

# æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨å·®å¼‚
git diff --name-only learning..ai-dev
```

### æŸ¥çœ‹æäº¤å†å²
```bash
# æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„æäº¤
git log --oneline

# æŸ¥çœ‹ai-devçš„æœ€æ–°5æ¬¡æäº¤
git log ai-dev --oneline -5

# å›¾å½¢åŒ–æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git log --all --graph --oneline
```

### åŒæ­¥è¿œç¨‹ä»£ç 
```bash
# æ‹‰å–æ‰€æœ‰åˆ†æ”¯çš„æœ€æ–°ä»£ç 
git fetch origin

# æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯
git branch -r
```

---

## ğŸ“‹ æ¨èçš„æ¯æ—¥å·¥ä½œæµ

### Claudeçš„å·¥ä½œæµ (åœ¨ ai-dev)

```bash
# æ—©ä¸Šå¼€å§‹å·¥ä½œ
git checkout ai-dev
git pull origin ai-dev

# ... Claudeç”Ÿæˆä»£ç  ...

# å®Œæˆä¸€ä¸ªæ–¹æ³•å
git add .
git commit -m "è¿­ä»£X: å®ç°XXXæ–¹æ³•"
git push origin ai-dev

# é€šçŸ¥ç”¨æˆ·: "æ–°ä»£ç å·²æ¨é€åˆ° ai-dev åˆ†æ”¯"
```

### æ‚¨çš„å·¥ä½œæµ (åœ¨ learning)

**å¼€å§‹ç»ƒä¹ å‰**:
```bash
# 1. æŸ¥çœ‹AIæ˜¯å¦æœ‰æ–°ä»£ç 
git fetch origin
git log learning..origin/ai-dev --oneline

# 2. å¦‚æœæœ‰æ–°ä»£ç ä¸”æƒ³åŒæ­¥
git checkout learning
git merge origin/ai-dev

# 3. å¼€å§‹ç»ƒä¹ 
# ... ä¿®æ”¹ä»£ç ,è¿è¡Œæµ‹è¯• ...
```

**ç»ƒä¹ ç»“æŸå** (å¯é€‰æäº¤):
```bash
git add .
git commit -m "ç»ƒä¹ ç¬”è®°: ç†è§£å‘é‡å½’ä¸€åŒ–çš„åŸç†"
git push origin learning
```

---

## ğŸ“ å­¦ä¹ åœºæ™¯ç¤ºä¾‹

### ç¤ºä¾‹1: æ‚¨æƒ³è‡ªå·±å®ç°ä¸€ä¸ªæ–¹æ³•

1. **AIåœ¨ `ai-dev` å·²ç»å®ç°äº† `Vector2D.dot()` æ–¹æ³•**
2. **æ‚¨æƒ³è‡ªå·±å°è¯•å®ç°**

```bash
# åœ¨learningåˆ†æ”¯
git checkout learning

# åˆ é™¤AIçš„å®ç°
# ç¼–è¾‘ src/core/vector2d.py,æ³¨é‡Šæ‰æˆ–åˆ é™¤ dot() æ–¹æ³•

# è‡ªå·±å®ç°
# ... å†™ä»£ç  ...

# è¿è¡Œæµ‹è¯•çœ‹æ˜¯å¦æ­£ç¡®
pytest tests/test_vector2d.py::test_dot

# å¦‚æœå®ç°æ­£ç¡®,å¯ä»¥å¯¹æ¯”ä¸AIçš„å®ç°
git diff ai-dev -- src/core/vector2d.py
```

---

### ç¤ºä¾‹2: å®éªŒä¸åŒçš„å¯è§†åŒ–æ–¹å¼

```bash
# åœ¨learningåˆ†æ”¯
git checkout learning

# ä¿®æ”¹å¯è§†åŒ–è„šæœ¬
# å°è¯•ä¸åŒçš„é¢œè‰²ã€å¸ƒå±€ã€åŠ¨ç”»ç­‰

# ç”Ÿæˆå›¾åƒçœ‹æ•ˆæœ
python src/examples/iter02_vector_addition.py

# å¦‚æœè§‰å¾—æŸä¸ªå®éªŒå¾ˆå¥½,å¯ä»¥æäº¤
git add src/examples/
git commit -m "å®éªŒ: ä½¿ç”¨åŠ¨ç”»å±•ç¤ºå‘é‡åŠ æ³•"
```

---

### ç¤ºä¾‹3: åŒæ­¥æ–°è¿­ä»£çš„ä»£ç 

å‡è®¾AIå®Œæˆäº†è¿­ä»£2:

```bash
# 1. æŸ¥çœ‹AIçš„æ–°æäº¤
git fetch origin
git log learning..origin/ai-dev --oneline
# è¾“å‡º:
#   abc1234 è¿­ä»£2: å®ç°å‘é‡å‡æ³•
#   def5678 è¿­ä»£2: å®ç°å‘é‡æ•°ä¹˜
#   ghi9012 è¿­ä»£2: æ·»åŠ å‘é‡åŠ æ³•æµ‹è¯•

# 2. å†³å®šå¦‚ä½•åŒæ­¥
# é€‰é¡¹A: å…¨éƒ¨åˆå¹¶
git checkout learning
git merge origin/ai-dev

# é€‰é¡¹B: åªè¦ç‰¹å®šåŠŸèƒ½(å¦‚åªè¦åŠ æ³•)
git cherry-pick def5678
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### é¿å…çš„æ“ä½œ

âŒ **ä¸è¦åœ¨mainåˆ†æ”¯ç›´æ¥å¼€å‘**
```bash
# é”™è¯¯ç¤ºä¾‹
git checkout main
# ç›´æ¥ä¿®æ”¹ä»£ç ... (ä¸æ¨è)
```

âœ… **æ­£ç¡®åšæ³•**
```bash
# åœ¨å¯¹åº”çš„åˆ†æ”¯å·¥ä½œ
git checkout ai-dev    # AIå·¥ä½œåŒº
git checkout learning  # æ‚¨çš„å·¥ä½œåŒº
```

---

âŒ **ä¸è¦å¼ºåˆ¶æ¨é€åˆ°ai-devåˆ†æ”¯** (å¦‚æœClaudeåœ¨ç”¨)
```bash
# è¿™ä¼šè¦†ç›–Claudeçš„å·¥ä½œ!
git push -f origin ai-dev  # å±é™©!
```

---

### å†²çªè§£å†³

å½“åˆå¹¶æ—¶å‡ºç°å†²çª:

```bash
git merge ai-dev
# è¾“å‡º: CONFLICT (content): Merge conflict in src/core/vector2d.py
```

**è§£å†³æ­¥éª¤**:

1. æ‰“å¼€å†²çªæ–‡ä»¶,ä¼šçœ‹åˆ°:
```python
<<<<<<< HEAD
# æ‚¨çš„ä»£ç 
def add(self, other):
    return Vector2D(self.x + other.x, self.y + other.y)
=======
# AIçš„ä»£ç 
def __add__(self, other: 'Vector2D') -> 'Vector2D':
    """å‘é‡åŠ æ³•"""
    return Vector2D(self.x + other.x, self.y + other.y)
>>>>>>> ai-dev
```

2. ç¼–è¾‘æ–‡ä»¶,é€‰æ‹©ä¿ç•™å“ªä¸ªç‰ˆæœ¬(æˆ–åˆå¹¶):
```python
# åˆå¹¶åçš„ç‰ˆæœ¬(ä¿ç•™AIçš„ç±»å‹æç¤º)
def __add__(self, other: 'Vector2D') -> 'Vector2D':
    """å‘é‡åŠ æ³•"""
    return Vector2D(self.x + other.x, self.y + other.y)
```

3. æ ‡è®°å†²çªå·²è§£å†³:
```bash
git add src/core/vector2d.py
git commit -m "åˆå¹¶ai-dev: è§£å†³å‘é‡åŠ æ³•æ–¹æ³•å†²çª"
```

---

## ğŸ“Š åˆ†æ”¯çŠ¶æ€å¯è§†åŒ–

ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹åˆ†æ”¯å…³ç³»:

```bash
git log --all --graph --decorate --oneline
```

è¾“å‡ºç¤ºä¾‹:
```
* 3a2b1c (ai-dev) è¿­ä»£2: å®ç°å‘é‡å‡æ³•
* 4b3c2d è¿­ä»£2: å®ç°å‘é‡åŠ æ³•
| * 5c4d3e (learning) ç»ƒä¹ : è‡ªå·±å®ç°dotæ–¹æ³•
|/
* 6d5e4f (main, tag: iter01-complete) è¿­ä»£1å®Œæˆ
* 7e6f5g åˆå§‹é¡¹ç›®ç»“æ„
```

---

## ğŸ”„ å·¥ä½œæµç¨‹å›¾

```
[AIå·¥ä½œæµç¨‹]
ai-dev (å¼€å‘æ–°åŠŸèƒ½)
  â†“
æäº¤ & æ¨é€
  â†“
é€šçŸ¥ç”¨æˆ· "æ–°ä»£ç å·²å°±ç»ª"


[æ‚¨çš„å·¥ä½œæµç¨‹]
learning (ç»ƒä¹ åŒº)
  â†“
æ‹‰å–ai-devæ–°ä»£ç  (å¯é€‰)
  â†“
å®éªŒ & ç»ƒä¹ 
  â†“
æäº¤ç»ƒä¹ æˆæœ (å¯é€‰)


[è¿­ä»£å®Œæˆæ—¶]
ai-dev â†’ main (åˆå¹¶)
  â†“
æ‰“æ ‡ç­¾ (iterXX-complete)
  â†“
main â†’ learning (åŒæ­¥)
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

1. **é¢‘ç¹æäº¤**: æ¯å®Œæˆä¸€ä¸ªå°åŠŸèƒ½å°±æäº¤
2. **æ¸…æ™°çš„æäº¤ä¿¡æ¯**: ä½¿ç”¨æ ¼å¼ `"è¿­ä»£X: åšäº†ä»€ä¹ˆ"`
3. **å®šæœŸåŒæ­¥**: æ¯å¤©å¼€å§‹å·¥ä½œå‰å…ˆ `git fetch`
4. **å¤‡ä»½å®éªŒ**: é‡è¦çš„å®éªŒåˆ›å»ºåˆ†æ”¯ `git branch experiment-xxx`
5. **æ ‡ç­¾ç®¡ç†**: æ¯ä¸ªè¿­ä»£å®Œæˆæ‰“æ ‡ç­¾,æ–¹ä¾¿å›æº¯

---

## ğŸ“ éœ€è¦å¸®åŠ©æ—¶

å¦‚æœé‡åˆ°Gité—®é¢˜:

1. **æŸ¥çœ‹å½“å‰çŠ¶æ€**: `git status`
2. **æŸ¥çœ‹å¸®åŠ©**: `git help <command>`
3. **æ’¤é”€æ›´æ”¹** (æœªæäº¤): `git restore <file>`
4. **å›é€€æäº¤**: `git reset HEAD~1`
5. **ç´§æ€¥å¤‡ä»½**: `git stash` (æš‚å­˜å½“å‰æ›´æ”¹)

---

## ğŸ¯ æ€»ç»“

| åœºæ™¯ | ä½¿ç”¨åˆ†æ”¯ | å‘½ä»¤ |
|------|---------|------|
| Claudeç”Ÿæˆä»£ç  | `ai-dev` | `git checkout ai-dev` |
| æ‚¨ç»ƒä¹ å­¦ä¹  | `learning` | `git checkout learning` |
| åŒæ­¥AIä»£ç  | `learning` | `git merge ai-dev` |
| å®Œæˆè¿­ä»£ | `main` | `git merge ai-dev` |

---

**è®°ä½**: Gitåˆ†æ”¯è®©æ‚¨å¯ä»¥è‡ªç”±å®éªŒ,ä¸ç”¨æ‹…å¿ƒç ´åä»£ç ã€‚éšæ—¶å¯ä»¥é‡ç½®æˆ–åˆ›å»ºæ–°åˆ†æ”¯!

Happy Learning! ğŸš€
